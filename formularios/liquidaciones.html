<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Juridigital | Liquidaciones</title>
  <meta name="description"
    content="JURIDIGITAL es una plataforma eficiente para gestionar solicitudes de incapacidad y vacaciones. Simplifica y agiliza el proceso de petici√≥n en tu empresa con nuestra soluci√≥n digital f√°cil de usar.">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Favicon -->
  <style>
    /* Aseguramos que tanto los inputs como los selects tengan la misma altura */
    select {
      height: 55px !important;
      background-color: #fdfefe !important;
      border: 2px solid #dadada !important;
      font-family: var(--font-secondary) !important;
      color: var(--color-body-white) !important;
      box-shadow: none !important;
      border-radius: 6px !important;
    }

    input[type="checkbox"],
    input[type="radio"] {
      opacity: 1 !important;
      /* Aseguramos que sean visibles */
      position: relative !important;
      /* Los posicionamos dentro del flujo normal del documento */
      width: 20px !important;
      /* Ajustamos el tama√±o del checkbox y radio */
      height: 20px !important;
      /* Ajustamos el tama√±o del checkbox y radio */
      margin-right: 8px !important;
      /* Espacio entre el icono y el texto */
      cursor: pointer !important;
      /* Hacemos que se vea que se puede hacer clic */
    }

    /* Estilo cuando el checkbox o el radio est√°n seleccionados */
    input[type="checkbox"]:checked,
    input[type="radio"]:checked {
      background-color: #4CAF50 !important;
      /* Color verde cuando est√° seleccionado */
      border-color: #4CAF50 !important;
      /* Color de borde en estado seleccionado */
    }

    /* Estilo cuando el radio o checkbox no est√° seleccionado */
    input[type="checkbox"]:not(:checked),
    input[type="radio"]:not(:checked) {
      background-color: #fff !important;
      /* Fondo blanco cuando no est√° seleccionado */
      border: 2px solid #ccc !important;
      /* Borde gris */
      border-radius: 50% !important;
      /* Radio buttons redondeados */
    }

    /* A√±adir un toque m√°s bonito al hover */
    input[type="checkbox"]:hover,
    input[type="radio"]:hover {
      border-color: #66bb6a !important;
      /* Borde verde claro en hover */
    }


    /* A√±adir un poco de espacio entre el checkbox/radio y el texto */
    input[type="checkbox"],
    input[type="radio"]+label {
      display: inline-block !important;
      margin-left: 10px !important;
    }


    input::placeholder {
      color: #013a71 !important;
    }

    .whats-input::placeholder {
      color: #888 !important;
    }
  </style>
  <link rel="icon" href="../assets/images/logo/ico.ico" type="image/x-icon">
  <!-- CSS 
    ============================================ -->
  <link rel="stylesheet" href="../assets/css/vendor/bootstrap.min.css" />
  <link rel="stylesheet" href="../assets/css/vendor/slick.css" />
  <link rel="stylesheet" href="../assets/css/vendor/slick-theme.css" />
  <link rel="stylesheet" href="../assets/css/vendor/aos.css" />
  <link rel="stylesheet" href="../assets/css/plugins/feature.css" />
  <!-- Style css -->
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>

<body class="template-color-1 spybody white-version" data-spy="scroll" data-target=".navbar-example2" data-offset="150">
  <!-- JS ============================================ -->
  <script src="../assets/js/vendor/jquery.js"></script>
  <script src="../assets/js/vendor/modernizer.min.js"></script>
  <script src="../assets/js/vendor/feather.min.js"></script>
  <script src="../assets/js/vendor/slick.min.js"></script>
  <script src="../assets/js/vendor/bootstrap.js"></script>
  <script src="../assets/js/vendor/text-type.js"></script>
  <script src="../assets/js/vendor/wow.js"></script>
  <script src="../assets/js/vendor/aos.js"></script>
  <script src="../assets/js/vendor/particles.js"></script>
  <script src="../assets/js/vendor/jquery-one-page-nav.js"></script>

  <!-- Start Whatsapp buttom -->
  <link rel="stylesheet" href="../assets/css/whatsap.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../assets/css/whatsapp-button-style.css">
  <link rel="stylesheet" href="../assets/css/whatsapp-chat-style.css">
  <div class="nav-bottom">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <div class="popup-whatsapp fadeIn">
      <div class="content-whatsapp -top">
        <button type="button" class="closePopup">
          <i class="material-icons icon-font-color">close</i>
        </button>
        <div class="content-chat">
          <img src="../assets/images/logo/icon-digital.svg" width="30">
          <p>¬øc√≥mo podemos ayudarte hoy?</p>
        </div>
      </div>
      <div class="content-whatsapp -bottom">
        <input class="whats-input" id="whats-in" type="text" placeholder="Escribe tu mensaje. üèõÔ∏è" />
        <button class="send-msPopup" id="send-btn" type="button">
          <i class="material-icons icon-font-color--black">send</i>
        </button>
      </div>
    </div>
    <button type="button" id="whats-openPopup" class="whatsapp-button">
      <div class="float" title="Whatsapp contact">
        <img src="../assets/images/icons/whatsapp.svg" class="wtp-button" alt="Whatsapp contact" aria-hidden="true">
      </div>
    </button>
    <div class="circle-anime"></div>
  </div>
  <script src="../assets/js/whatsapp_contact_script.js"></script>
  <!-- End Whatsapp buttom -->

  <!-- Start Header -->
  <header class="rn-header haeder-default black-logo-version header--fixed header--sticky">
    <div class="header-wrapper rn-popup-mobile-menu m--0 row align-items-center">
      <!-- Start Header Left -->
      <div class="col-lg-2 col-6">
        <div class="header-left">
          <div class="logo">
            <a href="#">
              <div class="display-align-items-center">
                <img src="../assets/images/logo/main-logo.svg" alt="juridigital LOGO" width="150px" />
              </div>
            </a>
          </div>
        </div>
      </div>
      <!-- End Header Left -->

      <!-- Start Header Center -->
      <div class="col-lg-10 col-6">
        <div class="header-center">
          <nav id="sideNav" class="mainmenu-nav navbar-example2 d-none d-xl-block onepagenav">
            <!-- Start Mainmanu Nav -->
            <ul class="primary-menu nav nav-pills">
              <li class="nav-item">
                <a class="nav-link" href="../index.html">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../formularios/liquidaciones.html">Liquidaciones</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../formularios/incapacidades.html">Incapacidades</a>
              </li>
            </ul>
            <!-- End Mainmanu Nav -->
          </nav>

          <!-- Start Header Right  -->
          <div class="header-right">
            <a class="rn-btn"
              href="https://api.whatsapp.com/send?phone=573138239237&text=Hola!%20Quisiera%20m%C3%A1s%20informaci%C3%B3n%20de%20JURIDIGITAL%20y%20sus%20servicios,%20por%20favor."
              target="_blank"><span>Contacto</span></a>
            <div class="hamberger-menu d-block d-xl-none">
              <i id="menuBtn" class="feather-menu humberger-menu"></i>
            </div>
            <div class="close-menu d-block">
              <span class="closeTrigger">
                <i data-feather="x"></i>
              </span>
            </div>
          </div>
          <!-- End Header Right  -->
        </div>
      </div>
      <!-- End Header Center -->
    </div>
  </header>
  <!-- End Header Area -->

  <!-- Start Popup Mobile Menu  -->
  <div class="popup-mobile-menu">
    <div class="inner inner-height">
      <div class="menu-top">
        <div class="menu-header">
          <a class="logo logo-custom" href="#">
            <img src="../assets/images/logo/main-logo.svg" alt="juridigital LOGO" width="70px" />
          </a>
          <div class="close-button">
            <button class="close-menu-activation close">
              <i data-feather="x"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="content">
        <ul class="main-menu nav nav-pills">
          <li class="nav-item">
            <a class="nav-link" href="../index.html">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../formularios/liquidaciones.html">Liquidaciones</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../formularios/incapacidades.html">Incapacidades</a>
          </li>
          <li class="nav-item">
            <a class="nav-link"
              href="https://api.whatsapp.com/send?phone=573138239237&text=Hola!%20Quisiera%20m%C3%A1s%20informaci%C3%B3n%20de%20JURIDIGITAL%20y%20sus%20servicios,%20por%20favor."
              target="_blank">Contacto</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End Popup Mobile Menu  -->

  <!-- Start Main Page Wrapper -->
  <main class="main-page-wrapper mt--50">
    <!-- start slider area -->
    <div class="rn-slider-area">
      <div class="container">
        <div class="row row--30 pt--100 pt_sm--50">
          <div class="col-lg-6">
            <div class="d-flex flex-wrap align-content-start h-100">
              <div class="position-sticky sticky-top rbt-sticky-top-adjust-two">
                <div class="banner-details-wrapper-sticky slide">
                  <div class="thumbnail">
                    <img src="../assets/images/slider/liquidacion.png" alt="Community">
                  </div>
                  <div class="banner-title-area pt--30">
                    <h1 class="title"><span>Liquidaciones</span></h1>
                    <p class="disc">Un formato de liquidaciones digital agiliza el proceso, reduce errores, permite
                      acceso seguro y mejora el control, optimizando tiempo y recursos.</p>
                  </div>
                  <div class="social-share-inner-left mt--30">
                    <ul class="social-share d-flex liststyle justify-center">
                      <li class="whatsapp">
                        <a href="https://api.whatsapp.com/send?phone=573138239237&text=Hola!%20Quisiera%20m%C3%A1s%20informaci%C3%B3n%20de%20JURIDIGITAL%20y%20sus%20servicios,%20por%20favor."
                          target="_blank" title="Whatsapp">
                          <i data-feather="phone-call"></i>
                        </a>
                      </li>
                      <li class="instagram">
                        <a href="https://www.instagram.com/asesoriajuridigital" target="_blank" title="Instagram">
                          <i data-feather="instagram"></i>
                        </a>
                      </li>
                      <li class="tiktok">
                        <a href="https://www.tiktok.com/@asesoriajuridigital?lang=es" target="_blank" title="Tiktok">
                          <svg class="tiktok-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="64"
                            height="64" viewBox="0 0 64 64">
                            <path
                              d="M48,8H16c-4.418,0-8,3.582-8,8v32c0,4.418,3.582,8,8,8h32c4.418,0,8-3.582,8-8V16C56,11.582,52.418,8,48,8z M50,27 c-3.964,0-6.885-1.09-9-2.695V38.5C41,44.841,35.841,50,29.5,50S18,44.841,18,38.5S23.159,27,29.5,27h2v5h-2 c-3.584,0-6.5,2.916-6.5,6.5s2.916,6.5,6.5,6.5s6.5-2.916,6.5-6.5V14h5c0.018,1.323,0.533,8,9,8V27z">
                            </path>
                          </svg>
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="sticky-home-wrapper">

              <!-- Start contact area -->
              <div data-aos="fade-left" data-aos-duration="500" data-aos-delay="200" data-aos-once="true"
                class="rn-contact-area section-height" id="contacts">
                <div class="inner">
                  <h5 class="title align_title">
                    FORMULARIO PETICI√ìN LIQUIDACI√ìN
                  </h5>
                  <!-- Form area Srart -->
                  <div class="contact-form-wrapper">
                    <div class="introduce">
                      <div class="row">

                        <!-- Campo de Ciudad de residencia -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-ciudad">Ciudad de residencia:</label>
                            <select id="fi-ciudad" name="fi-ciudad" class="form-control form-control-lg" required>
                              <option value="Bogot√° D.C" selected>Bogot√° D.C</option>
                              <option value="Medell√≠n">Medell√≠n</option>
                              <option value="Cali">Cali</option>
                              <option value="Barranquilla">Barranquilla</option>
                              <option value="Cartagena">Cartagena</option>
                              <option value="C√∫cuta">C√∫cuta</option>
                              <option value="Pereira">Pereira</option>
                              <option value="Bucaramanga">Bucaramanga</option>
                              <option value="Santa Marta">Santa Marta</option>
                              <option value="Ibagu√©">Ibagu√©</option>
                              <option value="Manizales">Manizales</option>
                              <option value="Neiva">Neiva</option>
                              <option value="Armenia">Armenia</option>
                              <option value="Tunja">Tunja</option>
                              <option value="Quibd√≥">Quibd√≥</option>
                              <option value="Villavicencio">Villavicencio</option>
                              <option value="Popay√°n">Popay√°n</option>
                              <option value="San Andr√©s">San Andr√©s</option>
                              <option value="Leticia">Leticia</option>
                              <option value="Sincelejo">Sincelejo</option>
                              <option value="Pasto">Pasto</option>
                              <option value="Valledupar">Valledupar</option>
                              <option value="Monter√≠a">Monter√≠a</option>
                              <option value="Mit√∫">Mit√∫</option>
                              <option value="Mocoa">Mocoa</option>
                              <option value="Tunja">Tunja</option>
                              <option value="Sogamoso">Sogamoso</option>
                              <option value="Yopal">Yopal</option>
                              <option value="Palmira">Palmira</option>
                              <option value="Choc√≥">Choc√≥</option>
                              <option value="Casanare">Casanare</option>
                              <option value="Vaup√©s">Vaup√©s</option>
                            </select>
                          </div>
                        </div>

                        <!-- Campo de Nombres y apellidos del solicitante -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-solicitante-nombre">Nombres y apellidos del solicitante:</label>
                            <input type="text" id="fi-solicitante-nombre" name="fi-solicitante-nombre"
                              class="form-control form-control-lg" minlength="2" maxlength="200" required
                              placeholder="Ejemplo: Juan P√©rez" pattern="[A-Za-z√±√ë\s]+" inputmode="text"
                              oninput="validarLetrasYEspacios(event)" />
                          </div>
                        </div>

                        <!-- Campo de Tipo de documento -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-solicitante-tipo">Tipo de documento:</label>
                            <select id="fi-solicitante-tipo" name="fi-solicitante-tipo"
                              class="form-control form-control-lg" required>
                              <option value="C.C" selected>C.C</option>
                              <option value="C.E">C.E</option>
                              <option value="NIT">NIT</option>
                              <option value="PPT">PPT</option>
                              <option value="RUT">RUT</option>
                              <option value="T.I">T.I</option>
                            </select>
                          </div>
                        </div>

                        <!-- Campo de N√∫mero de documento -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-solicitante-numero">N√∫mero de documento del solicitante:</label>
                            <input type="text" id="fi-solicitante-numero" name="fi-solicitante-numero"
                              class="form-control form-control-lg" minlength="6" maxlength="15"
                              placeholder="Ejemplo: 1000000" required pattern="\d+" inputmode="numeric"
                              oninput="this.value = this.value.replace(/\D/g, '')" />
                          </div>
                        </div>

                        <!-- Campo de N√∫mero de rangos de fechas -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-genero">G√©nero del solicitante:</label>
                            <div style="display: flex;
                                justify-content: flex-start;
                                gap: 10rem;">
                              <label style="display: flex;
                                  align-items: center;">
                                <input type="radio" id="genero-hombre" name="fi-genero" value="Hombre" checked>
                                Hombre
                              </label>
                              <label style="display: flex;
                                  align-items: center;">
                                <input type="radio" id="genero-mujer" name="fi-genero" value="Mujer">
                                Mujer
                              </label>
                            </div>
                          </div>
                        </div>

                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-correo-notificaciones">Correo electr√≥nico del solicitante:</label>
                            <input type="email" id="fi-correo-notificaciones" name="fi-correo-notificaciones"
                              class="form-control form-control-lg" minlength="2" maxlength="200" required
                              placeholder="Ejemplo: correo@dominio.com"
                              pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                              title="Por favor ingrese un correo electr√≥nico v√°lido" />
                          </div>
                        </div>

                        <!-- Campo de EPS o fondo de pensiones -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-servicios-prestados">Cargo en la empresa:</label>
                            <input type="text" id="fi-servicios-prestados" name="fi-servicios-prestados"
                              class="form-control form-control-lg" placeholder="Ejemplo: Contador" minlength="2"
                              maxlength="200" pattern="[A-Za-z√±√ë\s]+" inputmode="text"
                              oninput="validarLetrasYEspacios(event)" required />
                          </div>
                        </div>

                        <!-- Campo de Nombre de la empresa -->
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="fi-empresa-nombre">Nombre de la empresa:</label>
                            <input type="text" id="fi-empresa-nombre" name="fi-empresa-nombre"
                              class="form-control form-control-lg" minlength="2" maxlength="200"
                              placeholder="Ejemplo: Nombre empresa" pattern="[A-Za-z√±√ë\s]+" inputmode="text"
                              oninput="validarLetrasYEspacios(event)" required />
                          </div>
                        </div>

                        <!-- Campo de NIT de la empresa -->
                        <div class="col-lg-12" style="margin-bottom: 20px;">
                          <div style="display: flex; align-items: flex-end;">
                            <!-- Campo de NIT de la empresa -->
                            <div class="form-group" style="flex: 5; margin-bottom: 0;">
                              <div>
                                <label for="fi-empresa-nit" style="margin-bottom: 0;">Nit de la empresa:</label>
                                <input type="text" id="fi-empresa-nit" name="fi-empresa-nit"
                                  class="form-control form-control-lg" minlength="2" maxlength="200"
                                  placeholder="Ejemplo: 1000000" required
                                  oninput="this.value = this.value.replace(/\D/g, '')" inputmode="numeric" />
                              </div>
                            </div>

                            <!-- Guion en medio -->
                            <div class="form-group" style="flex: 1; text-align: center; margin: 15px 2px;">
                              <span>-</span>
                            </div>

                            <!-- Campo de digito verificador -->
                            <div class="form-group" style="flex: 1; margin-bottom: 0;">
                              <input type="text" id="fi-empresa-digito" name="fi-empresa-digito" placeholder="0"
                                class="form-control form-control-lg" minlength="1" maxlength="1" required
                                oninput="this.value = this.value.replace(/\D/g, '')" inputmode="numeric" />
                            </div>
                          </div>
                        </div>

                        <!-- Campo de N√∫mero de rangos de fechas -->
                        <div class="col-lg-6" style="display: none;">
                          <div class="form-group">
                            <label for="fi-numero-rangos">N√∫mero de rangos de fechas:</label>
                            <select id="fi-numero-rangos" name="fi-numero-rangos" class="form-control form-control-lg"
                              required>
                              <option value="1" selected>1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5</option>
                            </select>
                          </div>
                        </div>

                        <div class="col-lg-12">
                          <div class="form-group">
                            <div id="rangos-fechas">
                              <!-- Aqu√≠ se generar√°n din√°micamente los campos de fecha -->
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-12">
                          <form id="wompi-container"></form>
                        </div>
                        <div class="col-lg-12" style="margin-top: 12px;">
                          <label class="disc">Despu√©s de completar tu compra, haz clic en <span
                              style="color: #013a71;"><b>Regresar al comercio</b></span>.
                            <br>¬°Gracias por confiar en JURIDIGITAL!
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Form area End -->
                </div>
              </div>
              <!-- End contact area -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End slider area -->

    <!-- Back to  top Start -->
    <div class="backto-top">
      <div>
        <i data-feather="arrow-up"></i>
      </div>
    </div>
    <!-- Back to top end -->

  </main>
  <!-- main JS -->
  <script src="../assets/js/main.js"></script>
</body>
<script src="https://smtpjs.com/v3/smtp.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Incluir la librer√≠a jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  async function generateSignature() {
    // Genera la referencia de pago din√°micamente
    const reference = generateReference();
    // Crea la cadena a firmar con la referencia generada
    const cadenaConcatenada =
      reference + "1500000COPtest_integrity_jbewymA0PD3Boy4Y1OputyXQGTH8iHy3";
    // Genera el hash SHA-256
    const encodedText = new TextEncoder().encode(cadenaConcatenada);
    const hashBuffer = await crypto.subtle.digest("SHA-256", encodedText);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    const hashHex = hashArray.map((b) => b.toString(16).padStart(2, "0")).join("");
    // Inserta el script de Wompi con los valores correctos
    insertWompiScript(reference, hashHex);
  }

  function generateReference() {
    return "ORDER_" + Date.now() + "_" + Math.floor(Math.random() * 10000);
  }

  function insertWompiScript(reference, signature) {
    // Elimina cualquier script de Wompi previo si existe
    let oldScript = document.getElementById("wompi-widget");
    if (oldScript) {
      oldScript.remove();
    }
    // Crea un nuevo script con los valores din√°micos
    let script = document.createElement("script");
    script.id = "wompi-widget";
    script.src = "https://checkout.wompi.co/widget.js";
    script.setAttribute("data-render", "button");
    script.setAttribute("data-public-key", "pub_test_iTKNKSqmpR72aFmFaQGCb3ABxiw4pAOq");
    script.setAttribute("data-currency", "COP");
    script.setAttribute("data-amount-in-cents", "1500000");
    script.setAttribute("data-reference", reference);
    script.setAttribute("data-redirect-url", "https://asesoriajuridigital.com/pago-exitoso.html");
    script.setAttribute("data-signature:integrity", signature);
    // Agrega el nuevo script al formulario
    document.getElementById("wompi-container").appendChild(script);
  }

  function isFormComplete() {
    const requiredFields = [
      "fi-solicitante-nombre",
      "fi-solicitante-tipo",
      "fi-solicitante-numero",
      "fi-ciudad",
      "fi-servicios-prestados",
      "fi-empresa-nombre",
      "fi-empresa-nit",
      "fi-correo-notificaciones",
      "fi-empresa-digito",
    ];
    // Validar cada campo
    for (let fieldId of requiredFields) {
      const field = document.getElementById(fieldId);
      if (!field || field.value.trim() === "") {
        return false;
      }
    }
    // Validar el correo electr√≥nico
    const emailField = document.getElementById("fi-correo-notificaciones");
    const emailValue = emailField.value.trim();
    const emailPattern =
    /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; // Expresi√≥n regular para validar correo electr√≥nico
    if (!emailPattern.test(emailValue)) {
      return false;
    }
    const numeroRangos = parseInt(document.getElementById("fi-numero-rangos").value, 10);
    for (let i = 1; i <= numeroRangos; i++) {
      const inicio = document.querySelector(`input[name="fi-fecha-inicio-${i}"]`);
      const final = document.querySelector(`input[name="fi-fecha-final-${i}"]`);
      if (!inicio || !final || !inicio.value || !final.value) {
        return false;
      }
    }
    return true;
  }
  document.addEventListener("DOMContentLoaded", () => {
    generateSignature();
    // Crear mensaje debajo del bot√≥n
    const messageElement = document.createElement("div");
    messageElement.id = "message-container";
    messageElement.style.color = "red"; // Color de texto rojo para advertencia
    messageElement.style.fontSize = "14px";
    messageElement.textContent = "Por favor complete todos los campos antes de continuar.";
    messageElement.style.textAlign = "center";
    messageElement.style.marginTop = "1rem";
    document.getElementById("wompi-container").appendChild(messageElement);
    // Esperar a que el bot√≥n de Wompi se agregue al DOM
    const observer = new MutationObserver(() => {
      const wompiButton = document.querySelector("#wompi-container button");
      if (wompiButton) {
        // Deshabilitar el bot√≥n inicialmente y cambiar su color
        wompiButton.disabled = true;
        wompiButton.style.backgroundColor = "#d3d3d3"; // Color gris para bot√≥n deshabilitado
        // Validar el formulario cada vez que un campo cambie
        const formFields = document.querySelectorAll("input, select");
        formFields.forEach(field => {
          field.addEventListener("input", () => {
            if (isFormComplete()) {
              wompiButton.disabled = false; // Habilitar el bot√≥n si el formulario est√° completo
              wompiButton.style.backgroundColor =
              "#4CAF50"; // Cambiar a color verde cuando est√© habilitado
              messageElement.style.display = "none"; // Ocultar el mensaje cuando todo est√° completo
            } else {
              wompiButton.disabled = true; // Mantenerlo deshabilitado si no
              wompiButton.style.backgroundColor = "#d3d3d3"; // Color gris cuando est√© deshabilitado
              messageElement.style.display = "block"; // Mostrar el mensaje
            }
          });
        });
        wompiButton.addEventListener("click", () => {
          const nombreSolicitante = document.getElementById("fi-solicitante-nombre").value;
          const tipoDocSolicitante = document.getElementById("fi-solicitante-tipo").value;
          const numDocSolicitante = document.getElementById("fi-solicitante-numero").value;
          const ciudadSolicitante = document.getElementById("fi-ciudad").value;
          const serviciosPrestados = document.getElementById("fi-servicios-prestados").value;
          const nombreEmpresa = document.getElementById("fi-empresa-nombre").value;
          const nitEmpresa = document.getElementById("fi-empresa-nit").value + "-" + document
            .getElementById("fi-empresa-digito").value;
          const correoNotificaciones = document.getElementById("fi-correo-notificaciones").value;
          const selectedValue = document.querySelector('input[name="fi-genero"]:checked').value;
          // Obtener el n√∫mero de rangos de fechas seleccionados
          const numeroRangos = parseInt(document.getElementById("fi-numero-rangos").value, 10);
          const rangosFechas = [];
          for (let i = 1; i <= numeroRangos; i++) {
            const inicio = document.querySelector(`input[name="fi-fecha-inicio-${i}"]`).value;
            const final = document.querySelector(`input[name="fi-fecha-final-${i}"]`).value;
            rangosFechas.push({
              inicio,
              final
            });
          }
          const dataLiquidaciones = {
            nombreSolicitante: nombreSolicitante,
            tipoDocSolicitante: tipoDocSolicitante,
            numDocSolicitante: numDocSolicitante,
            ciudadSolicitante: ciudadSolicitante,
            serviciosPrestados: serviciosPrestados,
            nombreEmpresa: nombreEmpresa,
            nitEmpresa: nitEmpresa,
            correoNotificaciones: correoNotificaciones,
            rangosFechas: rangosFechas,
            selectedValue: selectedValue,
          };
          sessionStorage.removeItem('dataLiquidaciones');
          sessionStorage.setItem('dataLiquidaciones', JSON.stringify(dataLiquidaciones));
        });
        observer.disconnect(); // Deja de observar cambios en el DOM
      }
    });
    observer.observe(document.getElementById("wompi-container"), {
      childList: true
    });
  });
</script>

<script>
  // Funci√≥n para validar solo letras, tildes y espacios
  function validarLetrasYEspacios(event) {
    const input = event.target;
    // Reemplazar cualquier car√°cter que no sea letra o espacio
    input.value = input.value.replace(/[^A-Za-z√±√ë\s]/g, '');
  }
</script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const selectNumeroRangos = document.getElementById("fi-numero-rangos");
    const contenedorRangos = document.getElementById("rangos-fechas");
    // Funci√≥n para generar los campos de fecha
    function generarCamposFecha(numeroRangos) {
      contenedorRangos.innerHTML = ""; // Limpiar el contenedor
      for (let i = 1; i <= numeroRangos; i++) {
        const rangoDiv = document.createElement("div");
        rangoDiv.className = "rango-fecha";
        rangoDiv.style.display = "flex"; // Usamos Flexbox para los elementos
        rangoDiv.style.gap = "1rem"; // Agregamos un espacio de 1rem entre los campos
        rangoDiv.style.flexWrap = "wrap"; // Asegura que se ajusten cuando sea necesario
        rangoDiv.style.width = "100%"; // Asegura que ocupe todo el ancho disponible
        // Fecha de inicio
        const divInicio = document.createElement("div");
        divInicio.style.display = "flex";
        divInicio.style.flexDirection = "column"; // Etiqueta encima del input
        divInicio.style.flex = "1"; // Hace que ocupe el 50% del espacio
        const labelInicio = document.createElement("label");
        labelInicio.textContent = `Liquidaci√≥n desde:`;
        const inputInicio = document.createElement("input");
        inputInicio.type = "date";
        inputInicio.name = `fi-fecha-inicio-${i}`;
        inputInicio.required = true;
        // Fecha de final
        const divFinal = document.createElement("div");
        divFinal.style.display = "flex";
        divFinal.style.flexDirection = "column"; // Etiqueta encima del input
        divFinal.style.flex = "1"; // Hace que ocupe el 50% del espacio
        const labelFinal = document.createElement("label");
        labelFinal.textContent = `Liquidaci√≥n hasta:`;
        const inputFinal = document.createElement("input");
        inputFinal.type = "date";
        inputFinal.name = `fi-fecha-final-${i}`;
        inputFinal.required = true;
        // Validar que la fecha de inicio sea menor que la fecha de final
        inputInicio.addEventListener("change", function() {
          if (inputFinal.value && inputInicio.value > inputFinal.value) {
            alert("La fecha de inicio no puede ser posterior a la fecha de finalizaci√≥n.");
            inputInicio.value = "";
          }
        });
        inputFinal.addEventListener("change", function() {
          if (inputInicio.value && inputInicio.value > inputFinal.value) {
            alert("La fecha de final no puede ser menor que la fecha de inicio.");
            inputFinal.value = "";
          }
        });
        // Agregar elementos al contenedor
        divInicio.appendChild(labelInicio);
        divInicio.appendChild(inputInicio);
        divFinal.appendChild(labelFinal);
        divFinal.appendChild(inputFinal);
        // A√±adir los divs al contenedor de rangos
        rangoDiv.appendChild(divInicio);
        rangoDiv.appendChild(divFinal);
        contenedorRangos.appendChild(rangoDiv);
      }
    }
    // Generar campos iniciales (1 rango por defecto)
    generarCamposFecha(1);
    // Escuchar cambios en el select
    selectNumeroRangos.addEventListener("change", function() {
      const numeroRangos = parseInt(selectNumeroRangos.value, 10);
      generarCamposFecha(numeroRangos);
    });
  });
</script>
<script>
  const dataLiquidaciones = JSON.parse(sessionStorage.getItem("dataLiquidaciones"));
  if (dataLiquidaciones) {
    sessionStorage.removeItem('dataLiquidaciones');
  }
  const dataIncapacidades = JSON.parse(sessionStorage.getItem("dataIncapacidades"));
  if (dataIncapacidades) {
    sessionStorage.removeItem('dataIncapacidades');
  }
  document.addEventListener("contextmenu", function(e) {
    e.preventDefault();
  });
</script>

</html>